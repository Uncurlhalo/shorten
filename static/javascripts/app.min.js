(function (e) {
    "use strict";
    e(document).ready(function () {
        var t, n, r, i;
        e("#url").focus(), r = function (t) {
            var n = e(document).get()[0].createRange(),
                r = e(window).get()[0].getSelection();
            n.selectNodeContents(t), r.removeAllRanges(), r.addRange(n)
        }, i = function (t) {
            var n = navigator.userAgent.match(/Mac/) !== null,
                r = n ? "Press âŒ˜-C to copy" : "Press Ctrl+C to copy";
            e(t).tooltip({
                placement: "right",
                title: r,
                trigger: "manual"
            }).tooltip("show")
        }, t = function (t) {
            var n = e(location).attr("href") + t.short_id,
                s = e("#short-url"),
                o = s.find("a");
            e("#url").val(t.url), e("#error").hide(), o.attr("href", t.short_id).text(n), s.find("small").text("Created at: " + t.created_at), s.fadeIn(), r(o[0]), i(o)
        }, n = function () {
            e("#short-url").hide(), e("#error").fadeIn()
        }, e("#shorten").on("submit", function (r) {
            r.preventDefault();
            var i = e("#url").val();
            e.ajax({
                url: "/l/",
                type: "POST",
                data: {
                    url: i
                },
                timeout: 1e4,
                success: t,
                error: n
            })
        })
    })
})(jQuery);